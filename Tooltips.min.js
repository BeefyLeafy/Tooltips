class TooltipHelper{constructor(t){t=t||{},this.settings={tooltipWidth:t.tooltipWidth||180,tooltipHTMLTag:t.tooltipHTMLTag||"custom-tooltip"},this.tooltipData={cache:new WeakMap,maxDepth:0,currentElem:null},this._createTooltipElement(),document.body.addEventListener("mousemove",(t=>{this._getEventPath(t)[0]!==this.tooltipData.currentElem&&(this.tooltipData.maxDepth=0,this.tooltipData.currentElem=null,this.tooltipElement.style.opacity="0")}))}setTooltip(t,e){const o=this.tooltipData.cache.has(t);this.tooltipData.cache.set(t,{elem:e,mousemove:e=>{this._getEventPath(e).length>this.tooltipData.maxDepth&&(this.tooltipData.maxDepth=this._getEventPath(e).length,this.tooltipData.currentElem=t,this._makeTooltipVisible(t))},mouseleave:()=>{this.tooltipData.currentElem===t&&(this.tooltipData.maxDepth=0,this.tooltipData.currentElem=null),this.tooltipElement.style.opacity="0"}}),o||(t.style.setProperty("pointer-events","auto","important"),t.addEventListener("mouseenter",this.tooltipData.cache.get(t).mousemove),t.addEventListener("mousemove",this.tooltipData.cache.get(t).mousemove),t.addEventListener("mouseleave",this.tooltipData.cache.get(t).mouseleave))}_makeTooltipVisible(t){this._doesTooltipExist()||this._createTooltipElement(),this.tooltipElement.innerHTML=this.tooltipData.cache.get(t).elem.outerHTML,window.requestAnimationFrame((()=>{this.tooltipElement.style.opacity="1";const e=this.tooltipElement.getBoundingClientRect(),o=this._getAbsoluteBoundingRect(t);o.top-e.height-15>0?this.tooltipElement.style.top=o.top-e.height-15+"px":this.tooltipElement.style.top=o.bottom+15+"px";let i=Math.round(o.left+o.width/2);document.documentElement.scrollWidth>this.settings.tooltipWidth&&(i+this.settings.tooltipWidth/2>document.documentElement.scrollWidth&&(i+=document.documentElement.scrollWidth-(i+this.settings.tooltipWidth/2)),i-this.settings.tooltipWidth/2<0&&(i+=0-(i-this.settings.tooltipWidth/2))),this.tooltipElement.style.left=i-this.settings.tooltipWidth/2+"px"}))}getTooltip(t){const e=this.tooltipData.cache.get(t);return e?e.elem:null}removeTooltip(t){this.tooltipData.cache.get(t)&&(t.removeEventListener("mouseenter",this.tooltipData.cache.get(t).mousemove),t.removeEventListener("mousemove",this.tooltipData.cache.get(t).mousemove),t.removeEventListener("mouseleave",this.tooltipData.cache.get(t).mouseleave),this.tooltipData.cache.delete(t))}_getAbsoluteBoundingRect(t){const e=t.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{width:e.width,height:e.height,top:e.top+i,right:e.right+o,bottom:e.bottom+i,left:e.left+o}}_getEventPath(t){let e=t.path||t.composedPath&&t.composedPath();if(!e){e=[];let o=t.target;for(;o;){let t=null;if(o.parentNode)t=o.parentNode;else if(o.host)t=o.host;else{if(!o.defaultView)break;t=o.defaultView}e.push(t),o=t}}return e}_doesTooltipExist(){return null!==this.tooltipElement.parentElement}_createTooltipElement(){const t=document.createElement(this.settings.tooltipHTMLTag);t.style.cssText=`\n            background-color: rgba(17,17,17);\n            border-radius: 4px;\n            color: #ffffff;\n            font-size: 13px;\n            font-weight: normal;\n            padding: 1em 1em;\n            box-sizing: border-box;\n            z-index: 99999999;\n            font-family: monospace;\n            position: absolute;\n            pointer-events: none;\n            text-align: left;\n            white-space: pre-wrap;\n            width: ${this.settings.tooltipWidth}px;\n            transform: translate3d(0,0,0);\n            -webkit-backface-visibility: hidden;\n            backface-visibility: hidden;\n            opacity: 0;\n            box-shadow: #ffffff 0px 0px 5px 0px inset;\n        `,document.body.appendChild(t),this.tooltipElement=t}}